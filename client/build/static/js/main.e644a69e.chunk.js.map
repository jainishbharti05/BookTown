{"version":3,"sources":["auth/index.js","core/cartHelpers.js","core/Menu.js","core/Layout.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","core/Home.js","user/Signup.js","user/Signin.js","auth/PrivateRoute.js","auth/AdminRoute.js","core/Checkbox.js","core/RadioBox.js","core/FixedPrices.js","core/Shop.js","core/Checkout.js","core/Cart.js","core/Product.js","user/UserDashboard.js","user/apiUser.js","user/AdminDashboard.js","user/UserProfile.js","admin/ApiAdmin.js","admin/AddCateogary.js","admin/AddProduct.js","admin/UpdateProduct.js","admin/Orders.js","admin/ManageProducts.js","core/About.js","Routes.js","index.js"],"names":["signup","user","a","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","signin","isAuthenticated","window","localStorage","getItem","parse","addItem","item","next","cart","undefined","push","count","Array","from","Set","map","p","_id","id","find","setItem","isActive","history","path","location","pathname","color","withRouter","className","style","height","to","role","length","cursor","onClick","removeItem","signout","Layout","title","description","children","getProducts","sortBy","getCategories","res","getFilteredProducts","skip","limit","filters","data","ShowImage","url","src","alt","name","maxHeight","maxWidth","Card","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","useState","redirect","setRedirect","setCount","addToCart","handleChange","productId","event","target","value","forEach","updateItem","shouldRedirect","price","category","moment","createdAt","fromNow","quantity","showViewButton","i","splice","showRemoveButton","showAddToCart","type","onChange","showCartUpdateOptions","Search","categories","search","results","searched","setData","useEffect","error","searchData","params","query","queryString","list","searchSubmit","e","preventDefault","searchMessage","onSubmit","c","key","placeholder","border","searchedProducts","Home","productsbySell","setProductsBySell","productsbyArrival","setProductsByArrival","setError","loading","setLoading","showLoading","Signup","email","password","success","values","setValues","clickSubmit","display","textAlign","Signin","redirectToReferrer","authenticate","PrivateRoute","Component","component","rest","render","props","AdminRoute","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","RadioBox","prices","setValue","array","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","parseInt","Checkout","products","clientToken","instance","address","userId","token","getToken","Authorization","getBraintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","setTimeout","reload","message","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","Product","setProduct","relatedProducts","setRelatedProducts","loadSingleProduct","read","listRelated","match","substring","UserDashboard","setHistory","init","getPurchaseHistory","h","purchaseHistory","AdminDashboard","UserProfile","userData","update","auth","updateUser","profileUpdate","redirectuser","createCategory","createProduct","AddCateogary","setName","setSuccess","showSuccess","showError","required","AddProduct","shipping","photo","createdProduct","formData","FormData","files","set","accept","UpdateProduct","redirectToProfile","getProduct","initCategories","productData","updateProduct","redirectUser","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","handleStatusChange","orderId","status","updateOrderStatus","showInput","readOnly","o","oIndex","borderBottom","showStatus","Moment","pIndex","padding","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","href","rel","Routes","exact","About","Profile","AddCategory","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e644a69e.chunk.js","sourcesContent":["// Register User\nexport const signup = async user => {\n    return fetch(`/api/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\n// Login User\nexport const signin = async user => {\n    return fetch(`/api/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\n// Save token in storage\nexport const authenticate = (data, next) => {\n    if(typeof window !== 'undefined')\n    {\n        localStorage.setItem('jwt', JSON.stringify(data))\n        next();\n    }\n}\n\n// Signout so destroy the local token\nexport const signout = (next) => {\n    if(typeof window !== 'undefined')\n    {\n        localStorage.removeItem('jwt');\n        next();\n        return fetch('/api/signout', {\n            method: \"GET\"\n        })\n        .then(response => {\n            console.log(\"signout\", response);\n        })\n        .catch(err => console.log(err));\n    }\n};\n\n// Return if user is authenticated or not\nexport const isAuthenticated = () => {\n    if(typeof window == 'undefined')\n    {\n        return false;\n    }\n\n    if(localStorage.getItem('jwt'))\n    {\n        return JSON.parse(localStorage.getItem('jwt'));\n    } else {\n        return false;\n    }\n}\n","// Add item to local storage\nexport const addItem = (item, next) => {\n    let cart = []\n    if(typeof window !== undefined)\n    {\n        if(localStorage.getItem('cart'))\n        {\n            cart = JSON.parse(localStorage.getItem('cart'));\n        }\n\n        cart.push({\n            ...item, \n            count: 1\n        })\n\n        // remove duplicates\n        // build array from new set and turn it back nito array using Array.from so that later we can re-map it\n        // now set will only allow unique values in it \n        // so pass the ids of each product\n        // If loop tries to add same value again, it will get ignored\n        // ...with the array of ids we got on when first map() was used\n        // run map() on it again and return the actual product\n        \n        cart = Array.from(new Set(cart.map((p) => (p._id) ))).map(id => {\n            return cart.find(p => p._id === id)\n        });\n\n        localStorage.setItem('cart', JSON.stringify(cart));\n        next();\n    }\n}\n\n// Return total length of cart\nexport const itemTotal = () => {\n    if(typeof window !== undefined )\n    {\n        if(localStorage.getItem('cart'))\n        {\n            return JSON.parse(localStorage.getItem(\"cart\")).length;\n        }\n    }\n    \n    // By default\n    return 0;\n}\n\n// Get cart\nexport const getCart = () => {\n    if(typeof window !== undefined )\n    {\n        if(localStorage.getItem('cart'))\n        {\n            return JSON.parse(localStorage.getItem(\"cart\"));\n        }\n    }\n\n    return [];\n    \n}\n\n// Update cart item\nexport const updateItem = (productId, count) => {\n    let cart = [];\n\n    if(typeof window !== undefined)\n    {\n        if(localStorage.getItem('cart'))\n        {\n            cart = JSON.parse(localStorage.getItem('cart'))\n        }\n\n        cart.forEach((p) => {\n            if(p._id === productId)\n            {\n                p.count = count;\n            }\n        });\n\n        localStorage.setItem('cart', JSON.stringify(cart));\n    }\n\n    return;\n}\n\n// Remove item from cart\nexport const removeItem = (productId) => {\n    let cart = [];\n\n    if(typeof window !== undefined)\n    {\n        if(localStorage.getItem('cart'))\n        {\n            cart = JSON.parse(localStorage.getItem('cart'))\n        }\n\n        cart.forEach((p,i) => {\n            if(p._id === productId)\n            {\n                cart.splice(i, 1);\n            }\n        });\n\n        localStorage.setItem('cart', JSON.stringify(cart));\n    }\n\n    return cart;\n};\n\n// Empty cart after successfull purchase\nexport const emptyCart = next => {\n    if(typeof window !== \"undefined\")\n    {\n        localStorage.removeItem('cart')\n        next()\n    }\n}","import React, {Fragment} from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {signout, isAuthenticated} from '../auth';\nimport {itemTotal} from './cartHelpers';\n\nconst isActive = (history, path) => {\n    if(history.location.pathname === path)\n    {\n        return {color: '#ff9900'}\n    }\n\n    else\n    return {color: '#ffffff'}\n}\n\n\nconst Menu = ({history}) => {\n    return (\n        <div>\n            <ul className=\"nav nav-tabs bg-dark\" style={{height: 50}}>\n        \n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, '/')} to=\"/\">Home</Link>\n                    </li>\n\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, '/shop')} to=\"/shop\">Shop</Link>\n                    </li>\n\n                {!isAuthenticated() && (\n                 <Fragment>         \n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, '/signin')} to=\"/signin\">Login</Link>\n                    </li>\n\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, '/signup')} to=\"/signup\">SignUp</Link>\n                    </li>\n \n                    <li className=\"nav-item ml-auto\">\n                       <Link className=\"nav-link\" style={isActive(history, '/about')} to=\"/about\">About</Link>\n                    </li>\n                </Fragment>\n                )}\n\n                {isAuthenticated() && (\n                    <Fragment>\n                     {isAuthenticated() && isAuthenticated().user.role === 0 && (\n                         \n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, '/user/dashboard')} to=\"/user/dashboard\">Dashboard</Link>\n                    </li>\n                     )}\n\n                     {isAuthenticated() && isAuthenticated().user.role === 1 && (\n                         \n                         <li className=\"nav-item\">\n                             <Link className=\"nav-link\" style={isActive(history, '/admin/dashboard')} to=\"/admin/dashboard\">Dashboard</Link>\n                         </li>\n                          )}\n                    \n                    \n                    <li className=\"nav-item\">\n                       <Link className=\"nav-link\" style={isActive(history, '/cart')} to=\"/cart\">\n                           Cart <sup><small className=\"cart-badge\">{itemTotal()}</small></sup>\n                        </Link>\n                    </li>\n                          \n                    <li className=\"nav-item\">\n                       <Link className=\"nav-link\" style={isActive(history, '/about')} to=\"/about\">About</Link>\n                    </li>\n                    \n                    <li className=\"nav-item ml-auto\">\n                        <span className=\"nav-link\" style={{cursor: 'pointer', color: '#ffffff'}} onClick={() => signout(() => {\n                        history.push('/')\n                        })}>Logout</span>\n                    </li>\n                    \n                    </Fragment>                 \n\n                )}\n                \n            </ul>\n        </div>\n    )\n}\n\nexport default withRouter(Menu);\n","import React from 'react';\nimport Menu from './Menu';\nimport '../styles.css'\n\nconst Layout = ({title = 'Title', description='Description', className, children}) => {\n    return (\n        <div>\n            <Menu />\n            <div className=\"jumbotron\">\n                <h2>{title}</h2>\n                <p className=\"lead\">{description}</p>\n            </div>\n            <div className={className}>{children}</div>\n        </div>\n    )\n}\n\nexport default Layout\n","import queryString from 'query-string';\n\n// Get products from backend\nexport const getProducts = (sortBy) => {\n    return fetch(`/api/products?sortBy=${sortBy}&order=desc&limit=6`, {\n        method: 'GET'\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n} \n\n\n// Get categories from backend\nexport const getCategories = () => {\n    return fetch(`/api/categories`, {\n        method: \"GET\"\n    })\n    .then(res => {\n        return res.json()\n    })\n    .catch(err => console.log(err));\n}\n\n// Get products based on category and price filters\nexport const getFilteredProducts = async(skip, limit, filters = {}) => {\n    const data = {\n        limit, skip, filters\n    };\n    return fetch(`/api/products/by/search`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\n// Get categpry based on search on home page\nexport const list = params => {\n\n    const query = queryString.stringify(params);\n\n    return fetch(`/api/products/search?${query}`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\n// Get a single product from backend\nexport const read = (productId) => {\n    return fetch(`/api/product/${productId}`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\n// Get related products from backend\nexport const listRelated = (productId) => {\n    return fetch(`/api/products/related/${productId}`, {\n        method: \"GET\"\n    })\n    .then(res => {\n        return res.json()\n    })\n    .catch(err => console.log(err));\n}\n\n// Get braintree client token from backend\nexport const getBraintreeClientToken = (userId, token) => {\n    return fetch(`/api/braintree/getToken/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\"\n        },\n    })\n    .then(res => {\n        return res.json()\n    })\n    .catch(err => console.log(err));\n}\n\n// Process final payment\nexport const processPayment = (userId, token, paymentData) => {\n    return fetch(`/api/braintree/payment/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(paymentData)\n    })\n    .then(res => {\n        return res.json(res)\n    })\n    .catch(err => console.log(err));\n}\n\n// Create order\nexport const createOrder = (userId, token, createOrderData) => {\n    return fetch(`/api/order/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ order: createOrderData })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};","import React from 'react'\n\nconst ShowImage = ({item, url}) => {\n    return (\n        <div className=\"product-img\">\n            <img src={`/api/${url}/photo/${item._id}`} alt={item.name} className=\"mb-3\" style={{maxHeight:\"100%\", maxWidth: \"100%\"}}/>\n        </div>\n    )\n}\n\nexport default ShowImage\n","import React, {useState} from 'react'\nimport {Link, Redirect} from 'react-router-dom';\nimport ShowImage from './ShowImage';\nimport moment from 'moment';\nimport {addItem, updateItem, removeItem} from './cartHelpers';\n\nconst Card = ({product, showViewProductButton = true, showAddToCartButton = true, \n    cartUpdate = false, showRemoveProductButton = false, setRun = f => f, run=undefined }) => {\n\n    const [redirect, setRedirect] = useState(false);\n    const [count, setCount] = useState(product.count);\n    \n    const showViewButton = (showViewProductButton) => {\n        return (\n            showViewProductButton && (\n                <Link to ={`/product/${product._id}`} className=\"mr-2\">\n                    <button className=\"btn btn-outline-primary mt-2 mb-2 mr-2\">\n                            View Product\n                    </button>    \n                </Link>\n            )\n        )\n    }\n\n    const addToCart = () => {\n        addItem(product, () => {\n            setRedirect(true);\n        })\n    }\n\n    const shouldRedirect = redirect => {\n        if(redirect)\n        {\n            return <Redirect to = '/cart' />\n        }\n    }\n\n    const showAddToCart = (showAddToCartButton) => {\n        return (\n            showAddToCartButton && <button onClick={addToCart} className=\"btn btn-outline-warning mt-2 mb-2\">\n                Add to Cart\n            </button>\n        )\n    }\n\n    const showRemoveButton = showRemoveProductButton => {\n        return (\n          showRemoveProductButton && (\n            <button\n              onClick={() => {\n                removeItem(product._id);\n                setRun(!run); // run useEffect in parent Cart\n              }}\n              className=\"btn btn-outline-danger mt-2 mb-2\"\n            >\n              Remove Product\n            </button>\n          )\n        );\n      };\n\n    const showStock = (quantity) => {\n        return quantity > 0 ? \n            <span className=\"badge badge-primary badge-pill\">In Stock</span> \n            : <span className=\"badge badge-danger badge-pill\">Out of Stock</span>\n    }\n\n    const handleChange = productId => event => {\n        setRun(!run);\n        setCount(event.target.value < 1 ? 1 : event.target.value);\n        if (event.target.value >= 1) {\n            updateItem(productId, event.target.value);\n        }\n    };\n\n\n    const showCartUpdateOptions = cartUpdate => {\n        return cartUpdate && <div>    \n            <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">Adjust Quantity</span>\n                </div>\n                <input type=\"number\" value={count} className=\"form-control\" onChange={handleChange(product._id)} />\n            </div>\n        </div>\n    }\n    \n    return (\n            <div className=\"card\">\n                <div className=\"card-header name text-center\">{product.name}</div>\n                <div className=\"card-body\">\n                    {shouldRedirect(redirect)}\n                    <ShowImage item={product} url=\"product\" />\n                    \n                    <p className = \"mt-2\">{product.description}</p>\n                    <p className = \"font-weight-bold\"> {product.price}</p>\n                    <p className = \"black-10\">Category: {product.category && product.category.name}</p>\n                    <p className = \"black-8\">Added {moment(product.createdAt).fromNow()}</p>\n\n                    {showStock(product.quantity)}\n                    <br />\n                        {showViewButton(showViewProductButton)}\n                    \n                    \n                    {showRemoveButton(showRemoveProductButton)}\n\n                        {showAddToCart(showAddToCartButton)}\n                    \n                    {showCartUpdateOptions(cartUpdate)}\n                </div>\n            </div>\n            \n    )\n}\n\nexport default Card\n","import React, { useState, useEffect } from \"react\";\nimport { getCategories, list } from \"./apiCore\";\nimport Card from \"./Card\";\n\nconst Search = () => {\n    const [data, setData] = useState({\n        categories: [],\n        category: \"\",\n        search: \"\",\n        results: [],\n        searched: false\n    });\n\n    const { categories, category, search, results, searched } = data;\n\n    const loadCategories = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setData({ ...data, categories: data });\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadCategories();\n    }, []);\n\n    const searchData = () => {\n        // console.log(search, category);\n        if (search) {\n            list({ search: search || undefined, category: category }).then(\n                response => {\n                    if (response.error) {\n                        console.log(response.error);\n                    } else {\n                        setData({ ...data, results: response, searched: true });\n                    }\n                }\n            );\n        }\n    };\n\n    const searchSubmit = e => {\n        e.preventDefault();\n        searchData();\n    };\n\n    const handleChange = name => event => {\n        setData({ ...data, [name]: event.target.value, searched: false });\n    };\n\n    const searchMessage = (searched, results) => {\n        if(searched && results.length > 0)\n        {\n            return `Found ${results.length} products`\n        }\n\n        // no products found\n        if(searched && results.length < 1)\n        {\n            return `No Products Found`\n        }\n\n    }\n\n    const searchedProducts = (results = []) => {\n        return (\n            <div>\n                <h2 className=\"mt-4 mb-4\">\n                    {searchMessage(searched, results)}    \n                </h2>    \n                <div className=\"row\">\n                    {results.map((product, i) => (\n                        <Card key={i} product={product} />\n                    ))}\n                </div>\n            </div>\n        );\n    };\n\n    const searchForm = () => (\n        <form onSubmit={searchSubmit}>\n            <span className=\"input-group-text\">\n                <div className=\"input-group input-group-lg\">\n                    <div className=\"input-group-prepend\">\n                        <select\n                            className=\"btn mr-2\"\n                            onChange={handleChange(\"category\")}\n                        >\n                            <option value=\"All\">All Categories</option>\n                            {categories.map((c, i) => (\n                                <option key={i} value={c._id}>\n                                    {c.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n\n                    <input\n                        type=\"search\"\n                        className=\"form-control\"\n                        onChange={handleChange(\"search\")}\n                        placeholder=\"Search by name\"\n                    />\n                </div>\n                <div\n                    className=\"btn input-group-append\"\n                    style={{ border: \"none\" }}\n                >\n                    <button className=\"input-group-text\">Search</button>\n                </div>\n            </span>\n        </form>\n    );\n\n    return (\n        <div className=\"row\">\n            <div className=\"container mb-3\">{searchForm()}</div>\n            <div className=\"container-fluid mb-3\">\n                {searchedProducts(results)}\n            </div>\n        </div>\n    );\n};\n\nexport default Search;","import React, {useState, useEffect} from 'react';\nimport Layout from './Layout';\nimport {getProducts} from './apiCore';\nimport Card from './Card';\nimport Search from './Search'\n\nconst Home = () => {\n\n    const [productsbySell, setProductsBySell] = useState([])\n    const [productsbyArrival, setProductsByArrival] = useState([])\n    const [error, setError] = useState(false)\n    const [loading, setLoading] = useState(true);\n\n    const loadProductsBySell = () => {\n        getProducts('sold').then(data => {\n            if(data.err)\n            {\n                setError(data.err);\n                console.log(error);\n                setLoading(false);\n            }\n\n            else\n            {\n                setProductsBySell(data);\n                setLoading(false);\n            }\n        })\n    }\n\n    const loadProductsByArrival = () => {\n        getProducts('createdAt').then(data => {\n            if(data.err)\n            {\n                setError(data.err);\n                setLoading(false);\n            }\n\n            else\n            {\n                setProductsByArrival(data);\n                setLoading(false);\n            }\n        })\n    }\n\n    \n    const showLoading = () => (\n        loading && (<div className=\"alert alert-success\">\n            <h2>Loading...</h2>\n        </div>)\n    )\n\n    useEffect(() => {\n        loadProductsBySell()\n        loadProductsByArrival()\n        showLoading()\n        //eslint-disable-next-line\n    }, [])\n\n    return (\n        <Layout title=\"Booktown - Resell & Explore\" description=\"Buy and Explore some awesome books here!\" className=\"container-fluid\">\n            <Search />\n            <h2 className=\"mb-4\">New Arrivals</h2>\n            {showLoading()}\n            <div className=\"row\">                \n                {productsbyArrival.map((product, i) =>(\n                    <div key={i} className=\"col-4 mb-3\">    \n                       <Card product={product} />      \n                    </div>\n                ))}\n            </div>\n\n            <h2 className=\"mb-4\">Best Sellers</h2>\n            {showLoading()}\n            <div className=\"row\">                \n                {productsbySell.map((product, i) =>(\n                    <div key={i} className=\"col-4 mb-3\">    \n                       <Card product={product} />      \n                    </div>\n                ))}\n            </div>\n\n        </Layout>\n           \n    )\n};\n\nexport default Home\n","import React, {useState} from 'react';\nimport Layout from '../core/Layout';\nimport {Link} from 'react-router-dom';\nimport {signup} from '../auth';\n\nconst Signup = () => {\n\n    const [values, setValues] = useState({\n        name: '',\n        email: '',\n        password: '',\n        error: '',\n        success: false\n    });\n\n    const {name, email, password, success, error} = values;\n\n    const handleChange = name => e => {\n        setValues({...values, error: false, [name]: e.target.value})\n    };\n    \n        const clickSubmit = (e) => {\n        e.preventDefault();\n        setValues({...values, error: false});\n        signup({name, email, password})\n        .then(data => {\n            if(data.error)\n            {\n                setValues({...values, error: data.error, success: false})\n            }\n            else\n            {\n                setValues({...values, name: \"\", email: \"\", password: \"\", error: \"\", success: true});\n            }\n        })\n\n    }\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name}/>\n\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email}/>\n\n            </div>\n             \n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password}/>\n            </div>\n            \n            <div style={{textAlign : \"center\"}} >\n                <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n            </div>\n\n        </form>\n    );\n\n    const showError = () => {\n        return (<div className=\"alert alert-danger\" style={{display: error ? '': 'none'}}>\n            {error}\n        </div>\n        )\n    }\n\n    const showSuccess = () => {\n        return (\n        <div className=\"alert alert-info\" style={{display: success ? '': 'none'}}>\n            New account is created. Please <Link to='/signin'>Signin</Link>\n        </div>\n        )\n    }\n\n\n    return (\n        <Layout title=\"Signup\" description=\"Sign up to the Node React E-commerce app\" className=\"container col-md-8 offset-md-2\">\n            {showError()}\n            {showSuccess()}\n            {signUpForm()}\n        </Layout>\n           \n    )\n};\n\nexport default Signup;\n","import React, {useState} from 'react';\nimport Layout from '../core/Layout';\nimport {Redirect} from 'react-router-dom';\nimport {signin, authenticate, isAuthenticated} from '../auth';\n\nconst Signin = () => {\n\n    const [values, setValues] = useState({\n        email: '',\n        password: '',\n        error: '',\n        loading: false,\n        redirectToReferrer: false\n    });\n\n    const {email, password, loading, error, redirectToReferrer} = values;\n    const {user} = isAuthenticated();\n\n    const handleChange = name => e => {\n        setValues({...values, error: false, [name]: e.target.value})\n    };\n    \n        const clickSubmit = (e) => {\n        e.preventDefault();\n        setValues({...values, error: false, loading: true});\n        signin({email, password})\n        .then(data => {\n            if(data.err)\n            {\n                setValues({...values, error: data.err, loading: false})\n            }\n            else\n            {\n                authenticate(data, () => {\n                    setValues({...values, redirectToReferrer:true, loading: false});\n                })\n            }\n        })\n\n    }\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email}/>\n\n            </div>\n             \n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password}/>\n            </div>\n            \n            <div style={{textAlign : \"center\"}} >\n                <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n            </div>\n\n        </form>\n    );\n\n    const showError = () => {\n        return (<div className=\"alert alert-danger\" style={{display: error ? '': 'none'}}>\n            {error}\n        </div>\n        )\n    }\n\n    const showLoading = () => \n        \n            loading && (<div className=\"alert alert-info\">\n                <h2>Loading...</h2>\n            </div>);\n\n    const redirectUser = () => {\n            if(redirectToReferrer)\n            {\n                if(user.role===1)\n                return <Redirect to=\"/admin/dashboard\" />\n\n                else\n                return <Redirect to=\"/user/dashboard\" />\n            }\n\n            if(isAuthenticated())\n            {\n                return <Redirect to=\"/\" />\n            }\n        };\n\n\n    return (\n        <Layout title=\"Signin\" description=\"Login to your account to view and purchase awesome content\" className=\"container col-md-8 offset-md-2\">\n            {showError()}\n            {showLoading()}\n            {redirectUser()}\n            {signUpForm()}\n        </Layout>\n           \n    )\n};\n\nexport default Signin\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({\n  component: Component,\n  ...rest\n}) => (\n  <Route\n    {...rest}\n    render={props =>\n      !isAuthenticated() ? (\n        <Redirect to='/signin' />\n      ) : (\n        <Component {...props} />\n      )\n    }\n  />\n);\n\nexport default PrivateRoute;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuthenticated } from \"./index\";\n\nconst AdminRoute = ({\n  component: Component,\n  ...rest\n}) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to='/signin' />\n      )\n    }\n  />\n);\n\nexport default AdminRoute;","import React, {useState} from 'react'\n\nconst Checkbox = ({categories, handleFilters}) => {\n    \n    const [checked, setChecked] = useState([])\n\n    const handleToggle = c => () => {\n        const currentCategoryId = checked.indexOf(c); // return the first index or -1\n\n        const newCheckedCategoryId = [...checked]\n        // if currently checked was not alredy in checked state then we want to push\n        // else pull/take off\n        if(currentCategoryId === -1)    //  Not already in the state\n        {\n            newCheckedCategoryId.push(c);\n        }\n        else // Already in state, we need to remove it\n        {\n            newCheckedCategoryId.splice(currentCategoryId, 1);\n        }\n\n        setChecked(newCheckedCategoryId);\n        handleFilters(newCheckedCategoryId);\n    }\n    \n    return categories.map((c, i) => (\n        <li key={i} className=\"list-unstyled\">\n            <input onChange={handleToggle(c._id)} value={checked.indexOf(c._id === -1)} type=\"checkbox\" className=\"form-check-input\" />\n            <label className=\"form-check-label\">{c.name}</label>\n        </li>\n    ))\n}\n\nexport default Checkbox;\n","import React, {useState} from 'react'\n\nconst RadioBox = ({prices, handleFilters}) => {\n    \n    const [value, setValue] = useState(0)\n    \n    const handleChange = (e) => {\n        handleFilters(e.target.value);\n        setValue(e.target.value);\n        console.log(value);\n    }\n\n\n    return prices.map((p, i) => (\n        <div key={i}>\n            <input onChange={handleChange} value={`${p._id}`} type=\"radio\" name={p} className=\"mr-2 ml-4\" />\n            <label className=\"form-check-label\">{p.name}</label>\n        </div>\n    ))\n}\n\nexport default RadioBox;\n","export const prices = [\n    {\n        _id: 0,\n        name: \"Any\",\n        array: []\n    },\n\n    {\n        _id: 1,\n        name: \"0 to 200\",\n        array: [0, 200]\n    },\n\n    {\n        _id: 2,\n        name: \"200 to 500\",\n        array: [200, 500]\n    },\n\n    {\n        _id: 3,\n        name: \"500 to 750\",\n        array: [500, 1000]\n    },\n\n    {\n        _id: 4,\n        name: \"750+\",\n        array: [750, 99999]\n    },\n]","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport Card from \"./Card\";\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\nimport Checkbox from \"./Checkbox\";\nimport RadioBox from \"./RadioBox\";\nimport { prices } from \"./FixedPrices\";\n\nconst Shop = () => {\n    const [myFilters, setMyFilters] = useState({\n        filters: { category: [], price: [] }\n    });\n    const [categories, setCategories] = useState([]);\n    const [error, setError] = useState(false);\n    const [limit] = useState(6);\n    const [skip, setSkip] = useState(0);\n    const [size, setSize] = useState(0);\n    const [filteredResults, setFilteredResults] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    const init = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                setError(data.error);\n                console.log(error);\n                setLoading(false);\n            } else {\n                setCategories(data);\n                setLoading(false);\n            }\n        });\n    };\n\n    const loadFilteredResults = newFilters => {\n        // console.log(newFilters);\n        getFilteredProducts(skip, limit, newFilters).then(data => {\n            if (data.error) {\n                setError(data.error);\n                setLoading(false);\n            } else {\n                setFilteredResults(data.data);\n                setLoading(false);\n                setSize(data.size);\n                setSkip(0);\n            }\n        });\n    };\n\n    const loadMore = () => {\n        let toSkip = skip + limit;\n        // console.log(newFilters);\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\n            if (data.error) {\n                setError(data.error);\n                setLoading(false);\n            } else {\n                setFilteredResults([...filteredResults, ...data.data]);\n                setSize(data.size);\n                setLoading(false);\n                setSkip(toSkip);\n            }\n        });\n    };\n\n    const loadMoreButton = () => {\n        return (\n            size > 0 &&\n            size >= limit && (\n                <div className=\"text-center\">    \n                    <button onClick={loadMore} className=\"btn btn-warning mb-5\">\n                        Load more\n                    </button>\n                </div>\n            )\n        );\n    };\n\n    const showLoading = () => (\n        loading && (<div className=\"alert alert-success\">\n            <h2>Loading...</h2>\n        </div>)\n    )\n\n    useEffect(() => {\n        init();\n        loadFilteredResults(skip, limit, myFilters.filters);\n        showLoading()\n        //eslint-disable-next-line\n    }, []);\n\n    const handleFilters = (filters, filterBy) => {\n        const newFilters = { ...myFilters };\n        newFilters.filters[filterBy] = filters;\n\n        if (filterBy === \"price\") {\n            let priceValues = handlePrice(filters);\n            newFilters.filters[filterBy] = priceValues;\n        }\n        loadFilteredResults(myFilters.filters);\n        setMyFilters(newFilters);\n    };\n\n    const handlePrice = value => {\n        const data = prices;\n        let array = [];\n\n        for (let key in data) {\n            if (data[key]._id === parseInt(value)) {\n                array = data[key].array;\n            }\n        }\n        return array;\n    };\n\n    return (\n        <Layout\n            title=\"Shop Page\"\n            description=\"Search and find books of your choice\"\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-4\">\n                    <h4>Filter by categories</h4>\n                    <ul>\n                        <Checkbox\n                            categories={categories}\n                            handleFilters={filters =>\n                                handleFilters(filters, \"category\")\n                            }\n                        />\n                    </ul>\n\n                    <h4>Filter by price range</h4>\n                    <div>\n                        <RadioBox\n                            prices={prices}\n                            handleFilters={filters =>\n                                handleFilters(filters, \"price\")\n                            }\n                        />\n                    </div>\n                </div>\n\n                <div className=\"col-8\">\n                    <h2 className=\"mb-4\">Products</h2>\n                    {showLoading()}\n                    <div className=\"row\">\n                        {filteredResults.map((product, i) => (\n                            <div key={i} className=\"col-4 mb-3\">\n                                <Card product={product} />\n                            </div>\n                        ))}\n                    </div>\n                    <hr />\n                    {loadMoreButton()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Shop;\n","import React, { useState, useEffect } from \"react\";\nimport { getBraintreeClientToken, processPayment, createOrder} from \"./apiCore\";\nimport { emptyCart } from \"./cartHelpers\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link} from \"react-router-dom\";\nimport DropIn from \"braintree-web-drop-in-react\";\n\nconst Checkout = ({ products }) => {\n    const [data, setData] = useState({\n        loading: false,\n        success: false,\n        clientToken: null,\n        error: \"\",\n        instance: {},\n        address: \"\"\n    });\n\n    const userId = isAuthenticated() && isAuthenticated().user._id;\n    const token = isAuthenticated() && isAuthenticated().token;\n\n    const getToken = (userId, token) => {\n        getBraintreeClientToken(userId, token).then(data => {\n            if (data.error) {\n                setData({ ...data, error: data.error });\n            } else {\n                setData({ clientToken: data.clientToken });\n            }\n        });\n    };\n\n    useEffect(() => {\n        getToken(userId, token);\n        //eslint-disable-next-line\n    }, []);\n\n    const handleAddress = event => {\n        setData({...data, address: event.target.value})\n    }\n\n    const getTotal = () => {\n        return products.reduce((currentValue, nextValue) => {\n            return currentValue + nextValue.count * nextValue.price;\n        }, 0);\n    };\n\n    const showCheckout = () => {\n        return isAuthenticated() ? (\n            <div>{showDropIn()}</div>\n        ) : (\n            <Link to=\"/signin\">\n                <button className=\"btn btn-primary\">Sign in to checkout</button>\n            </Link>\n        );\n    };\n\n    \n    let deliveryAddress = data.address;\n\n    const buy = () => {\n        setData({ loading: true });\n        // send the nonce to your server\n        // nonce = data.instance.requestPaymentMethod()\n        let nonce;\n        data.instance\n            .requestPaymentMethod()\n            .then(data => {\n                // console.log(data);\n                nonce = data.nonce;\n                // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\n                // and also total to be charged\n                // console.log(\n                //     \"send nonce and total to process: \",\n                //     nonce,\n                //     getTotal(products)\n                // );\n                const paymentData = {\n                    paymentMethodNonce: nonce,\n                    amount: getTotal(products)\n                };\n\n                processPayment(userId, token, paymentData)\n                    .then(response => {\n                        console.log(response);\n                        // create order\n                        const createOrderData = {\n                            products: products,\n                            transaction_id: response.transaction.id,\n                            amount: response.transaction.amount,\n                            address: deliveryAddress\n                        };\n\n                        createOrder(userId, token, createOrderData)\n                            .then(response => {\n                                // empty cart\n                                emptyCart(() => {\n                                    console.log(\"payment success and empty cart\");\n                                    setData({\n                                        loading: false,\n                                        success: true\n                                    });\n                                });\n                                setTimeout(() => window.location.reload(), 2200);\n                            })\n                            .catch(error => {\n                                console.log(error);\n                                setData({ loading: false });\n                            });\n                    })\n                    .catch(error => {\n                        console.log(error);\n                        setData({ loading: false });\n                    });\n            })\n            .catch(error => {\n                setData({ ...data, error: error.message });\n            });\n    };\n\n    const showDropIn = () => (\n        <div onBlur={() => setData({ ...data, error: \"\" })}>\n            {data.clientToken !== null && products.length > 0 ? (\n                <div>\n                    <div className=\"gorm-group mb-3\" style={{display: data.success ? \"none\" : \"\" }}>\n                        <label className=\"text-muted\">Delivery address:</label>\n                        <textarea onChange = {handleAddress} className=\"form-control\" \n                            value={data.address} placeholder=\"Please enter your shipping address here..\" />\n                    </div>\n                    <DropIn\n                        options={{\n                            authorization: data.clientToken,\n                            paypal: {\n                                flow: \"vault\"\n                            }\n                        }}\n                        onInstance={instance => (data.instance = instance)}\n                    />\n                    <button onClick={buy} className=\"btn btn-success btn-block\" style={{display: data.success ? \"none\" : \"\" }}>\n                        Pay\n                    </button>\n                </div>\n            ) : null}\n        </div>\n    );\n\n    const showError = error => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = success => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: success ? \"\" : \"none\" }}\n        >\n            Thanks! Your payment was successful! Please check your email\n        </div>\n    );\n\n    const showLoading = loading =>\n        loading && <h2 className=\"text-danger\">Loading...</h2>;\n\n    return (\n        <div>\n            <h2>Total:  {getTotal()}</h2>\n            <p>Try checking out with a dummy credit card number like 4111 1111 1111 1111 and any expiration date and cvv</p>\n            {showLoading(data.loading)}\n            {showSuccess(data.success)}\n            {showError(data.error)}\n            {showCheckout()}\n        </div>\n    );\n};\n\nexport default Checkout;\n","import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport Layout from './Layout';\nimport {getCart} from './cartHelpers';\nimport Card from './Card';\nimport Checkout from './Checkout';\n\nconst Cart = () => {\n\n    const [items, setItems] = useState([]);\n    const [run, setRun] = useState(false);\n\n    const noItemsMessage = () => {\n        return (\n            <div>\n                <h2>Your cart is empty</h2>\n                <br />\n                <Link to =\"/shop\">Start Shopping now!</Link>\n            </div>\n        )\n    }\n\n    \n    const showItems = items => {\n        return (\n            <div>\n                <h2>Your cart has {`${items.length}`} items</h2>\n                <hr />\n                {items.map((p, i) => (\n                <Card key={i} product={p} showAddToCartButton={false} \n                cartUpdate = {true} showRemoveProductButton={true} setRun={setRun} run={run} />\n                ))}\n            </div>\n        )\n    }\n\n    useEffect(() => {\n        setItems(getCart())\n    }, [run])\n\n    return (\n        <Layout title=\"My Cart\" description=\"Manage your cart items. Add, Remove, Checkout or continue shopping\"\n         className=\"container-fluid\">\n             \n        <div className=\"row\">\n            <div className=\"col-6\">\n                {items.length > 0 ? showItems(items) : noItemsMessage()}\n            </div>\n\n            \n            <div className=\"col-6\">\n                <h2 className=\"mb-4\">Cart summary</h2>\n                <hr />\n                <Checkout products={items} />\n            </div>\n        </div>\n        </Layout>\n           \n    )\n}\n\nexport default Cart\n","import React, {Fragment, useState, useEffect} from 'react';\nimport Layout from './Layout';\nimport {read, listRelated} from './apiCore';\nimport Card from './Card';\n\nconst Product = (props) => {\n\n    const [product, setProduct] = useState({});\n    const [relatedProducts, setRelatedProducts] = useState([]);\n    const [error, setError] = useState(false);\n    const [loading, setLoading] = useState(true);\n\n    const loadSingleProduct = productId => {\n        read(productId).then(data => {\n            if(data.err)\n            {\n                setError(data.err);\n                console.log(error);\n                setLoading(false);\n            }\n\n            else\n            {\n                setProduct(data);\n                // fetch related products\n                listRelated(data._id).then(data => {\n                    if(data.err)\n                    {\n                        setError(data.err);\n                    }\n\n                    else\n                    {\n                        setRelatedProducts(data);\n                    }\n                });\n\n                setLoading(false);\n            }\n        })\n    }\n    \n    const showLoading = () => (\n        loading && (<div className=\"alert alert-success\">\n            <h2 className = \"text-center\">Loading...</h2>\n        </div>)\n    )\n\n    useEffect(() => {\n        const productId = props.match.params.productId;\n\n        loadSingleProduct(productId);\n        showLoading();\n        // eslint-disable-next-line\n    }, [props])\n\n    return (\n        <Fragment>\n            \n            {loading ? (\n                showLoading()\n            ): (<Layout title={product && product.name} description={product && product.description && product.description.substring(0, 100)} className=\"container-fluid\">\n                      \n            <div className=\"row\">\n                <div className=\"col-8\">\n                { product && product.description && <Card product={product} showViewProductButton ={false} /> }                \n                </div>\n\n                <div className=\"col-4\">\n                    <h4>Related Products</h4>\n                    {relatedProducts.map((p, i) => (\n                        <div className=\"mb-3\">\n                            <Card key={i} product={p} />    \n                        </div>\n                    ) )}\n                </div>\n            </div>\n\n        </Layout>)}\n\n        </Fragment>\n    )\n}\n\nexport default Product\n","import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport {isAuthenticated} from '../auth';\nimport {getPurchaseHistory} from './apiUser';\nimport moment from \"moment\";\n\nconst UserDashboard = () => {\n\n    const {user: {_id, name, email, role}, token} = isAuthenticated();\n    \n    const [history, setHistory] = useState([]);\n\n    const init = (userId, token) => {\n        getPurchaseHistory(userId, token).then(data => {\n            if(data.error)\n            {\n                console.log(data.error)\n            }\n            else\n            {\n                setHistory(data);\n            }\n        })\n    }\n\n    useEffect(() => {\n        init(_id, token)\n        //eslint-disable-next-line\n    }, [])\n\n    const userLinks = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h4 className=\"card-header text-center\">User Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\"><Link to=\"/cart\" className=\"nav-link\">My Shopping Cart</Link></li>\n                    <li className=\"list-group-item\"><Link to={`/profile/${_id}`} className=\"nav-link\">Update Profile</Link></li>\n                </ul>\n\n            </div>\n        )\n    }\n\n    const userInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n            <h3 className=\"card-header text-center\">User Information</h3>\n            <ul className=\"list-group\">\n                <li className=\"list-group-item\">{name}</li>\n                <li className=\"list-group-item\">{email}</li>\n                <li className=\"list-group-item\">{role === 1 ? 'Admin': `User id : ${_id}`}</li>\n            </ul>\n            </div>\n        )\n    }\n\n    const purchaseHistory = history => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">Purchase history</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        {history.map((h, i) => {\n                            return (\n                                <div>\n                                    <hr />\n                                    {h.products.map((p, i) => {\n                                        return (\n                                            <div key={i}>\n                                                <h6>Product name: {p.name}</h6>\n                                                <h6>\n                                                    Product price: ${p.price}\n                                                </h6>\n                                                <h6>\n                                                    Purchased date:{\" \"}\n                                                    {moment(\n                                                        p.createdAt\n                                                    ).fromNow()}\n                                                </h6>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            );\n                        })}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n\n    return (\n        <Layout title=\"Dashboard\" description={`Welcome, ${name}`} className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"xs-col-12 col-sm-4\">\n                    {userLinks()}\n                </div>\n\n                <div className=\"xs-col-12 col-sm-8\">\n                    {userInfo()}\n                    {purchaseHistory(history)}\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nexport default UserDashboard;\n","// Read user  information from backend\nexport const read = (userId, token) => {\n    return fetch(`/api/user/${userId}`, {\n        method: 'GET',\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n} \n\n// Update profile\nexport const update = (userId, token, userData) => {\n    return fetch(`/api/user/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(userData)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n// Update user in local storage\nexport const updateUser = (user, next) => {\n    if(typeof window !== 'undefined')\n    {\n        if(localStorage.getItem('jwt'))\n        {\n            let auth = JSON.parse(localStorage.getItem(\"jwt\"));\n            auth.user = user;\n            localStorage.setItem('jwt', JSON.stringify(auth))\n            next()\n        }\n    }\n}\n\n// Get purchase history\nexport const getPurchaseHistory = (userId, token) => {\n    return fetch(`/api/orders/by/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport {isAuthenticated} from '../auth';\n\nconst AdminDashboard = () => {\n\n    const {user: {_id, name, email, role}} = isAuthenticated();\n\n    const adminLinks = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h4 className=\"card-header text-center\">Admin Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\"><Link to=\"/create/category\" className=\"nav-link\">Create Category</Link></li>\n                    <li className=\"list-group-item\"><Link to=\"/create/product\" className=\"nav-link\">Create Product</Link></li>\n                    <li className=\"list-group-item\"><Link to=\"/admin/orders\" className=\"nav-link\">Manage Orders</Link></li>\n                    <li className=\"list-group-item\"><Link to=\"/admin/products\" className=\"nav-link\">Manage Products</Link></li>\n                </ul>\n\n            </div>\n        )\n    }\n\n    const adminInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n            <h3 className=\"card-header text-center\">Admin Information</h3>\n            <ul className=\"list-group\">\n                <li className=\"list-group-item\">{name}</li>\n                <li className=\"list-group-item\">{email}</li>\n                <li className=\"list-group-item\">{role === 1 ? 'Admin': `User id : ${_id}`}</li>\n            </ul>\n            </div>\n        )\n    }\n\n    return (\n        <Layout title=\"Admin Dashboard\" description={`Welcome, ${name}`} className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"xs-col-12 col-sm-4\">\n                    {adminLinks()}\n                </div>\n\n                <div className=\"xs-col-12 col-sm-8\">\n                    {adminInfo()}\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nexport default AdminDashboard;\n","import React, {useState, useEffect} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport {isAuthenticated} from '../auth';\nimport {read, update, updateUser} from './apiUser';\n\nconst UserProfile = ({match}) => {\n    \n    const [values, setValues] = useState({\n        name: '',\n        email: '',\n        password: '',\n        error: false,\n        loading: true,\n        success: false\n    });\n\n    const {name, email, password, error, success, loading} = values;\n    const {token} = isAuthenticated()\n\n    const init = (userId) => {\n        read(userId, token).then(data => {\n            if(data.error)\n            {\n                setValues({...values, error: true, loading: false})\n            }\n            else\n            {\n                setValues({...values, name: data.name, email: data.email, loading: false})\n            }\n        })\n    }\n\n    const handleChange = name => e => {\n        setValues({...values, error: false, [name]: e.target.value})\n    }   \n\n    const clickSubmit = (e) => {\n        e.preventDefault();\n        update(match.params.userId, token, {name, email, password}).then(data => {\n            if(data.error)\n            {\n                console.log(data.error)\n            }\n\n            else\n            {\n                updateUser(data, () => {\n                    setValues({...values, name: data.name, email: data.email, success: true})\n                })\n            }\n        })\n    }\n\n    const profileUpdate = (name, email, password) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input type=\"text\" value={name} onChange={handleChange('name')} className=\"form-control\"/>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input type=\"email\" value={email} onChange={handleChange('email')} className=\"form-control\"/>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input type=\"password\" value={password} onChange={handleChange('password')} className=\"form-control\"/>\n            </div>\n\n            <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n        </form>\n    )\n\n    const redirectuser = success => {\n        if(success)\n        {\n            return <Redirect to=\"/dashboard\" />\n        }\n    }\n\n    const showLoading = () => (\n        loading && (<div className=\"alert alert-success\">\n            <h2>Loading...</h2>\n        </div>)\n    )\n\n    useEffect(() => {\n        init(match.params.userId);\n        showLoading()\n        //eslint-disable-next-line\n    }, [])\n    \n    return (\n        <Layout title=\"My Profile\" description=\"Update your profile\" className=\"container-fluid\">\n            <h2>Profile Update</h2>\n            {showLoading()}\n            {profileUpdate(name ,email, password)}\n            {redirectuser(success)}\n        </Layout>\n           \n    )\n}\n\nexport default UserProfile;\n","// Create category\nexport const createCategory = async(userId, token, category) => {\n    return fetch(`/api/category/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(category)\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\n// Create product\nexport const createProduct = async(userId, token, product) => {\n    return fetch(`/api/product/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\n// Get categories from backend\nexport const getCategories = () => {\n    return fetch(`/api/categories`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err));\n}\n\n// Fetch all orders for admin\nexport const listOrders = (userId, token) => {\n    return fetch(`/api/order/list/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err));\n}\n\n// Get status values of all orders\nexport const getStatusValues = (userId, token) => {\n    return fetch(`/api/order/status-values/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n// Update status values\nexport const updateOrderStatus = (userId, token, orderId, status) => {\n    return fetch(`/api/order/${orderId}/status/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ status, orderId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n// Get all products\nexport const getProducts = () => {\n    return fetch(`/api/products?limit=100`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\n// Get a single product\nexport const getProduct = (productId) => {\n    return fetch(`/api/product/${productId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\n// Update a product\nexport const updateProduct = (productId, userId, token, productData) => {\n    return fetch(`/api/product/${productId}/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: productData   // not stringify because we are using form data as image is also there\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n// Delete a product\nexport const deleteProduct = (productId, userId, token) => {\n    return fetch(`/api/product/${productId}/${userId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};","import React, {useState} from 'react';\nimport Layout from '../core/Layout';\nimport {isAuthenticated} from '../auth';\nimport {createCategory} from './ApiAdmin';\n\nconst AddCateogary = () => {\n\n    const[name, setName] = useState('')\n    const[error, setError] = useState(false)\n    const[success, setSuccess] = useState(false)\n\n    // Destructure user and token from localstorage\n    const {user, token} = isAuthenticated()\n\n    const handleChange = e => {\n        setError(false)\n        setName(e.target.value)\n    }\n\n    const clickSubmit = (e) => {\n        e.preventDefault()\n        setError(false)\n        setSuccess(false)\n\n        // make request to backend to create category\n        createCategory(user._id, token, {name})\n            .then(data => {\n                if(data.error)\n                {\n                    setError(true)\n                }\n                else\n                {\n                    setError(false);\n                    setSuccess(true);\n                }\n            })\n    }\n\n    const newCategoryForm = () => (\n        <form>\n            <div className=\"form-group text-center\">\n                <label className=\"text-muted\">Name</label>\n                <input onChange={handleChange} type=\"name\" className=\"form-control\" value={name} required/>\n            </div>\n               \n            <div style={{textAlign : \"center\"}} >\n                <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n            </div>\n\n        </form>\n    );\n\n    const showSuccess = () => {\n        if(success)\n        {\n            return <h3 className=\"text-success\">{name} is created</h3>\n        }\n    }\n    \n    const showError = () => {\n        if(error)\n        {\n            return <h3 className=\"text-danger\">{name} is not unique</h3>\n        }\n    }\n\n    return (\n        <Layout title=\"Add a new Category\" description={`Ready to add a new category?`}>\n            <div className=\"row\">\n                <div className=\"xs-col-12 col-sm-8\">\n                    {showSuccess()}\n                    {showError()}\n                    {newCategoryForm()}\n                </div>\n            </div>\n        </Layout>\n    )\n\n\n}\n\nexport default AddCateogary\n","import React, {useState, useEffect} from 'react';\nimport Layout from '../core/Layout';\nimport {isAuthenticated} from '../auth';\nimport {createProduct, getCategories} from './ApiAdmin';\n\nconst AddProduct = () => {\n\n    const {user, token} = isAuthenticated();\n    const [values, setValues] = useState({\n        name: '',\n        description: '',\n        price: '',\n        categories: [],\n        category: '',\n        shipping: '',\n        quantity: 0,\n        photo: '',\n        loading: false,\n        error: '',\n        createdProduct: '',\n        formData: ''\n    });\n\n    const {name, description, price, categories, category, shipping, quantity,\n        loading, error, createdProduct, formData} = values;\n\n    // load categories and form set data\n    const init = () => {\n        getCategories().then(data => {\n            if(data.err)\n            {\n                setValues({...values, error: data.err})\n            }\n            else\n            {\n                setValues({...values, categories: data, formData: new FormData()})\n            }\n        })\n    }\n    \n    useEffect(() => {\n        init();\n        \n        // eslint-disable-next-line\n    }, [])\n    \n\n    const handleChange = name => e => {\n        const value = name ==='photo' ? e.target.files[0] : e.target.value\n        formData.set(name, value)\n        setValues({...values, [name]: value}) \n    }\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        setValues({...values, error: '', loading: true});\n\n        createProduct(user._id, token, formData)\n        .then(data => {\n            if(data.err)\n            {\n                setValues({...values, error: data.err});\n            }\n\n            else\n            {\n                setValues({\n                    ...values, name: '', description: '', photo: '', price: '', quantity: 0, loading: '', \n                    category: '', shipping: '',createdProduct: data.name\n                })\n            }\n        })\n    }\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n\n            <h4>Post photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\n                </label>\n            </div>\n\n            <div className=\"form-group\">\n                <label>Name</label>\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\n            </div>\n\n            <div className=\"form-group\">\n                <label>Description</label>\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\n            </div>\n\n            <div className=\"form-group\">\n                <label>Price</label>\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />\n            </div>\n\n            <div className=\"form-group\">\n                <label>Category</label>\n                <select onChange={handleChange('category')} className=\"form-control\" value={category}>\n                    <option>Select</option>\n                    {categories && categories.map((c, i) => (\n                        <option key={i} value={c._id}>{c.name}</option>\n                    ))}\n                    </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label>Shipping</label>\n                <select onChange={handleChange('shipping')} className=\"form-control\" value={shipping}>\n                    <option>Please Select</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label>Quantity</label>\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Create Product</button>\n        </form>\n    )\n\n    const showError = () => (\n        <div className=\"alert alert-danger\" style={{display: error? '': 'none'}}>\n            {error}\n        </div>\n    )\n\n    const showSuccess = () => (\n        <div className=\"alert alert-info\" style={{display: createdProduct? '': 'none'}}>\n            <h2>{`${createdProduct}`} is created</h2>\n        </div>\n    )\n\n    const showLoading = () => (\n        loading && (<div className=\"alert alert-success\">\n            <h2>Loading...</h2>\n        </div>)\n    )\n\n\n    return (\n        <Layout title=\"Add a new Product\" description={`Ready to add a new Product?`}>\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showError()}\n                    {showSuccess()}\n                    {showLoading()}\n                    {newPostForm()}\n                </div>\n            </div>\n        </Layout>\n    )\n\n\n}\n\nexport default AddProduct;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect } from \"react-router-dom\";\nimport { getProduct, getCategories, updateProduct } from \"./ApiAdmin\";\n\nconst UpdateProduct = ({ match }) => {\n    const [values, setValues] = useState({\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        categories: [],\n        category: \"\",\n        shipping: \"\",\n        quantity: \"\",\n        photo: \"\",\n        loading: false,\n        error: false,\n        createdProduct: \"\",\n        redirectToProfile: false,\n        formData: \"\"\n    });\n\n    const { user, token } = isAuthenticated();\n    const {\n        name,\n        description,\n        price,\n        categories,\n        category,\n        shipping,\n        quantity,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values;\n\n    const init = productId => {\n        getProduct(productId).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                // populate the state\n                setValues({\n                    ...values,\n                    name: data.name,\n                    description: data.description,\n                    price: data.price,\n                    category: data.category._id,\n                    shipping: data.shipping,\n                    quantity: data.quantity,\n                    formData: new FormData()\n                });\n                // load categories\n                initCategories();\n            }\n        });\n    };\n\n    // load categories and set form data\n    const initCategories = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    categories: data,\n                    formData: new FormData()\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(match.params.productId);\n        //eslint-disable-next-line\n    }, []);\n\n    const handleChange = name => event => {\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n        formData.set(name, value);\n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n\n        updateProduct(match.params.productId, user._id, token, formData).then(\n            data => {\n                if (data.error) {\n                    setValues({ ...values, error: data.error });\n                } else {\n                    setValues({\n                        ...values,\n                        name: \"\",\n                        description: \"\",\n                        photo: \"\",\n                        price: \"\",\n                        quantity: \"\",\n                        loading: false,\n                        error: false,\n                        redirectToProfile: true,\n                        createdProduct: data.name\n                    });\n                }\n            }\n        );\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input\n                        onChange={handleChange(\"photo\")}\n                        type=\"file\"\n                        name=\"photo\"\n                        accept=\"image/*\"\n                    />\n                </label>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <textarea\n                    onChange={handleChange(\"description\")}\n                    className=\"form-control\"\n                    value={description}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input\n                    onChange={handleChange(\"price\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={price}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select\n                    onChange={handleChange(\"category\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    {categories &&\n                        categories.map((c, i) => (\n                            <option key={i} value={c._id}>\n                                {c.name}\n                            </option>\n                        ))}\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select\n                    onChange={handleChange(\"shipping\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Quantity</label>\n                <input\n                    onChange={handleChange(\"quantity\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={quantity}\n                />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Update Product</button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: createdProduct ? \"\" : \"none\" }}\n        >\n            <h2>{`${createdProduct}`} is updated!</h2>\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-success\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    const redirectUser = () => {\n        if (redirectToProfile) {\n            if (!error) {\n                return <Redirect to=\"/\" />;\n            }\n        }\n    };\n\n    return (\n        <Layout\n            title=\"Add a new product\"\n            description={`G'day ${user.name}, ready to add a new product?`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showLoading()}\n                    {showSuccess()}\n                    {showError()}\n                    {newPostForm()}\n                    {redirectUser()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default UpdateProduct;\n","import React, {useState, useEffect} from 'react';\nimport Layout from '../core/Layout';\nimport {isAuthenticated} from '../auth';\nimport {listOrders, getStatusValues, updateOrderStatus} from './ApiAdmin';\nimport Moment from 'moment';\n\nexport const Orders = () => {\n    \n    const [orders, setOrders] = useState([]);\n    const [statusValues, setStatusValues] = useState([]);\n    const [loading, setLoading] = useState(true);\n    \n    const {user, token} = isAuthenticated();\n    \n    const loadOrders = () => {\n        listOrders(user._id, token).then(data => {\n            if(data.error)\n            {\n                console.log(data.err);\n                setLoading(false);\n            }\n\n            else\n            {\n                setOrders(data);\n                setLoading(false);\n            }\n        })\n    }\n    \n    const loadStatusValues = () => {\n        getStatusValues(user._id, token).then(data => {\n            if(data.error)\n            {\n                console.log(data.error);\n                setLoading(false);\n            }\n\n            else\n            {\n                setStatusValues(data);\n                setLoading(false);\n            }\n        })\n    }\n\n    const handleStatusChange = (e, orderId) => {\n        updateOrderStatus(user._id, token, orderId, e.target.value)\n        .then(data => {\n            if(data.error)\n            {\n                console.log(\"Status update fail\");\n            }\n\n            else\n            {\n                loadOrders()\n            }\n        })\n    }\n\n    const showStatus = (o) => {\n        return (<div className=\"form-group\">\n            <h3 className=\"mark mb-4\">Status: {o.status}</h3>\n            <select className = \"form-control\" onChange={(e) => handleStatusChange(e,o._id)}>\n                <option>Update Status</option>\n                {statusValues.map((status, i) => (\n                     <option key={i} value={status}>{status}</option>\n                ))}\n            </select>\n        </div>)\n    }\n\n    \n    const showOrdersLength = () => {\n        if(orders.length > 0)\n        {\n            return (\n                <h2 className=\"text-danger display-2\">Total Orders: {orders.length}</h2>\n            )\n        }\n\n        else\n        {\n            return (\n                <h1 className=\"text-danger\">No Orders</h1>\n            )\n        }\n    }\n\n    const showInput = (key, value) => {\n        return (<div className=\"input-group mb-2 mr-sm-2\">\n            <div className=\"input-group-prepend\">\n                <div className=\"input-group-text\">{key}</div>\n            </div>\n            <input type=\"text\" className=\"form-control\" value={value} readOnly />\n        </div>)\n    }\n\n    const showLoading = () => (\n        loading && (<div className=\"alert alert-success\">\n            <h2>Loading...</h2>\n        </div>)\n    )\n\n    useEffect(() => {\n        loadOrders()\n        loadStatusValues()\n        showLoading()\n        // eslint-disable-next-line\n    }, [])\n\n    return (\n        <Layout title=\"Orders\" description={`Manage all the orders here`} className=\"container\">\n            {showLoading()}\n        <div className=\"row\">\n            <div className=\"xs-col-12 col-sm-8\">\n                {showOrdersLength()}\n                {orders.map((o, oIndex) => {\n                    return (\n                        <div key={oIndex} className=\"mt-5\" style={{borderBottom: \"5px solid indigo\"}}>\n                            <h2 className=\"mb-5\">\n                                <span className=\"bg-primary\">\n                                    Order Id : {o._id}\n                                </span>\n                            </h2>\n                            <ul className=\"list-group mb-2\">\n                                <li className=\"list-group-item\">{showStatus(o)}</li>\n                                <li className=\"list-group-item\">Transaction_id: {o.transaction_id}</li>\n                                <li className=\"list-group-item\">Amount: {o.amount}</li>\n                                <li className=\"list-group-item\">Ordered by: {o.user.name}</li>\n                                <li className=\"list-group-item\">Order Date: {Moment(o.createdAt).fromNow()}</li>\n                                <li className=\"list-group-item\">Delivery address: {o.address}</li>\n                            </ul>\n\n                            <h5 className=\"mt-4 mb-4 font-italic\">\n                                Total products in the order: {o.products.length}\n                            </h5>\n\n                            {o.products.map((p, pIndex) => {\n                                return (<div className=\"mb-4\" key={pIndex} style={{padding: '20px', border: '1px solid indigo'}}>\n                                    {showInput('Product name', p.name)}\n                                    {showInput('Product price', p.price)}\n                                    {showInput('Product total', p.count)}\n                                    {showInput('Product id', p._id)}\n                                </div>)\n\n                            })}\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    </Layout>\n    )\n}\n\nexport default Orders;\n","import React, {useState, useEffect} from 'react'\nimport Layout from '../core/Layout';\nimport {Link} from 'react-router-dom';\nimport {isAuthenticated} from '../auth';\nimport {getProducts, deleteProduct} from './ApiAdmin'\n\nconst ManageProducts = props => {\n\n    const [products, setProducts] = useState([]);\n    \n    const {user, token} = isAuthenticated();\n\n    const loadProducts = () => {\n        getProducts().then(data => {\n            if(data.error)\n            {\n                console.log(data.error);\n            }\n\n            else\n            {\n                setProducts(data);\n            }\n        })\n    }\n\n    const destroy = productId => {\n        deleteProduct(productId, user._id, token).then(data => {\n            if(data.error)\n            {\n                console.log(data.error);\n            }\n\n            else\n            {\n                loadProducts();\n            }\n        })\n    }\n\n    useEffect(() => {\n        loadProducts()\n        // eslint-disable-next-line\n    }, [])\n\n    return (\n        <Layout title=\"Manage Products\" description={`Perform CRUD on products`}>\n            <div className=\"row\">\n                <div className=\"col-12\">\n                <h2 className=\"text-center\">Total {products.length} Products</h2>\n                <hr />\n                    <ul className=\"list-group\">\n                        {products.map((p, i) => (\n                            <li key={i} className=\"list-group-item d-flex justify-content-between align-items-center\">\n                                <strong>{p.name}</strong>\n                                <Link to={`/admin/products/update/${p._id}`}>\n                                    <span className=\"badge badge-warning badge-pill\">\n                                        Update\n                                    </span>\n                                </Link>\n                                <span onClick={() => destroy(p._id)} className=\"badge badge-danger badge-pill\">\n                                    Delete\n                                </span>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\n\nexport default ManageProducts\n","import React from 'react';\nimport Layout from '../core/Layout';\n\nconst Home = () => {\n    return (\n        <Layout title=\"About\" description=\"Made with  by Jainish Bharti\">\n            <div className=\"container\">\n                <a href=\"https://github.com/jainishbharti05\" target=\"_blank\" rel=\"noopener noreferrer\"><h2>Github</h2></a>\n                <a href=\"https://www.linkedin.com/in/jainishbharti/\" target=\"_blank\" rel=\"noopener noreferrer\"><h2>LinkedIn</h2></a>\n                <a href=\"https://jainishbharti.me/\" target=\"_blank\" rel=\"noopener noreferrer\"><h2>Website</h2></a>\n                <a href=\"mailto:imjainish007@gmail.com\"><h2>Email</h2></a>    \n            </div>            \n        </Layout>\n           \n    )\n};\n\nexport default Home\n","import React from 'react';\nimport {BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Home from './core/Home';\nimport Signup from './user/Signup';\nimport Signin from './user/Signin';\nimport PrivateRoute from './auth/PrivateRoute';\nimport AdminRoute from './auth/AdminRoute';\nimport Shop from './core/Shop'\nimport Cart from './core/Cart'\nimport Product from './core/Product';\nimport UserDashboard from './user/UserDashboard';\nimport AdminDashboard from './user/AdminDashboard';\nimport Profile from './user/UserProfile';\nimport AddCategory from './admin/AddCateogary';\nimport AddProduct from './admin/AddProduct';\nimport UpdateProduct from './admin/UpdateProduct';\nimport Orders from './admin/Orders';\nimport ManageProducts from './admin/ManageProducts';\nimport About from './core/About';\n\nconst Routes = () => {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route exact path=\"/shop\" component={Shop} />\n                <Route exact path=\"/product/:productId\" component={Product} />\n                <Route exact path=\"/signin\" component={Signin} />\n                <Route exact path=\"/signup\" component={Signup} />\n                <Route exact path=\"/cart\" component={Cart} />\n                <Route exact path=\"/about\" component={About} />\n                <PrivateRoute exact path=\"/user/dashboard\" component={UserDashboard} />\n                <PrivateRoute exact path=\"/profile/:userId\" component={Profile} />\n                <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n                <AdminRoute exact path=\"/create/category\" component={AddCategory} />\n                <AdminRoute exact path=\"/create/product\" component={AddProduct} />\n                <AdminRoute exact path=\"/admin/products/update/:productId\" component={UpdateProduct} />\n                <AdminRoute exact path=\"/admin/orders\" component={Orders} />\n                <AdminRoute exact path=\"/admin/products\" component={ManageProducts} />\n            </Switch>\n        </BrowserRouter>\n    );\n};\n\nexport default Routes;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './Routes';\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n"],"sourceRoot":""}